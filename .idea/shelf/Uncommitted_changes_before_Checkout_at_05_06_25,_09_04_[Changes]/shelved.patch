Index: public/script/script.js
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>//***\n// Variablen\n//***\nlet counter = 0;\nlet currClass = null;\nlet information = \"\";\ngotThePoint = true;\nlet allPhotos = []; // Speichert alle Fotos\nlet currentPhotoIndex = -1; // Speichert das aktuelle Bild-Index\n\n// Helper function to call API\nasync function apiCall(endpoint, method = 'GET', body = null) {\n    const config = { method };\n    if (body) {\n        config.headers = { 'Content-Type': 'application/json' };\n        config.body = JSON.stringify(body);\n    }\n    const res = await fetch(`./api/central.php?endpoint=${endpoint}`, config);\n    return res.json();\n}\n\n// Function for preLog button\nasync function preLog() {\n    const username = document.getElementById('usernameForLogin').value;\n    const password = document.getElementById('pwForLogin').value;\n    const res = await apiCall('login', 'POST', { name: username, password });\n\n    if (res.code === 200) {\n        alert('Login successful! Welcome ' + res.user.name);\n        // Hier kannst du redirect oder UI-Wechsel einbauen\n    } else {\n        alert('Login failed: ' + res.message);\n    }\n}\n\n// You can expand this with similar functions for register, getClasses, etc.\n\n\n//********************************\n// Stylesheet-Wechsel\n//********************************\nfunction replaceStylesheet(newHref) {\n    // Alle Stylesheets entfernen\n    document.querySelectorAll('link[rel=\"stylesheet\"]').forEach(link => link.remove());\n\n    // Neues Stylesheet hinzufügen\n    addStylesheet(newHref);\n    addStylesheet('style/style.css');\n}\n\nfunction addStylesheet(href) {\n    let timestamp = new Date().getTime(); // Zeitstempel generieren\n    let newLink = document.createElement(\"link\");\n    newLink.rel = \"stylesheet\";\n    newLink.href = href + `?${timestamp}`; // Cache verhindern durch Query-Parameter\n    document.head.appendChild(newLink);\n}\n\n\n//********************************\n// Login und Registrierung\n//********************************\n\npreLog();\nfunction preLog() {\n    const username = document.getElementById(\"usernameForLogin\").value;\n    const pw = document.getElementById(\"pwForLogin\").value;\n    LogIn(username, pw);\n}\n\nfunction register() {\n    document.getElementById(\"body\").innerHTML = `\n    <div id=\"form-container\">\n        <h1>Benutzerliste</h1>\n\n        <h2>Neuen Benutzer hinzufügen</h2>\n        <input type=\"text\" id=\"name\" placeholder=\"Name\">\n        <input type=\"password\" id=\"password\" placeholder=\"Passwort\">\n        \n        <select id=\"department\">\n            <option>Medientechnik</option>\n            <option>Informatik</option>\n            <option>Elektronik</option>\n            <option>Medizintechnik</option>\n        </select>\n\n        <input type=\"text\" id=\"class\" placeholder=\"Klasse\">\n        \n        <button id=\"addUserButton\" onclick=\"addUser()\">Registrieren</button>\n\n        <footer>\n            <p>Already have an account? <a href=\"./index.html\">Click here</a></p>\n        </footer>\n    </div>`;\n}\n\nfunction LogIn(uname, pass) {\n\n    let formData = new FormData();\n    formData.append('user', uname);\n    formData.append('password', pass);\n\n    let fetch_url = './api/userapi.php';\n    let fetch_config = {\n        method: \"POST\",\n        body: formData,\n        headers: {\n            \"Accept\": \"aplication/json\"\n        }\n    }\n\n    fetch(fetch_url, fetch_config)\n        .then((response) => response.json())\n        .then((data) => {\n\n            // console.log(data);\n\n            if (data.code == 200) {\n                validLogIn();\n            }\n\n            else {\n                if (counter > 0) {\n                    alert(data.msg);\n                }\n                counter++\n\n            }\n\n        })\n        .catch((error) => {\n            console.error(\"Error:\", error);\n            alert(\"An error occurred please try again later!\");\n        });\n}\n\nfunction addUser() {\n    const name = document.getElementById(\"name\").value;\n    const password = document.getElementById(\"password\").value;\n    const department = document.getElementById(\"department\").value;\n    const classValue = document.getElementById(\"class\").value;\n\n    if (name && password && department && classValue) {\n        fetch('./api/userapi.php', {\n            method: 'POST',\n            headers: { 'Content-Type': 'application/json' },\n            body: JSON.stringify({ name, password, department, class: classValue }),\n        })\n            .then(response => {\n                if (!response.ok) {\n                    throw new Error(`HTTP error! status: ${response.status}`);\n                }\n                return response.json();\n            })\n            .then(data => {\n                console.log(\"Server response:\", data);\n                if (data.code === 200) {\n                    alert(\"User registered successfully!\");\n                    LogIn(name, password)\n                } else {\n                    alert(data.message);\n                }\n            })\n            .catch(error => console.error(\"Fetch error:\", error));\n\n\n\n    } else {\n        alert(\"Please fill in all fields!\");\n    }\n}\n\nfunction validLogIn() {\n    document.body.style = `background:white;`\n    document.body.innerHTML = `\n    <div id=\"headerGeneral\">\n        <img id=\"logo\" src=\"./Logo_BinWin.png\"> \n    </div>\n\n    <div id=\"content\"></div>\n\n    <footer>\n        <img onclick=\"changeSideTo('ranking')\" class=\"icons\" src=\"./icons/ranking.svg\">\n        <img onclick=\"changeSideTo('statistic')\" class=\"icons\" src=\"./icons/statistic.svg\">\n        <img onclick=\"changeSideTo('points')\" class=\"icons\" src=\"./icons/recycle.svg\">\n        <img onclick=\"changeSideTo('rewards')\" class=\"icons\" src=\"./icons/trophy.svg\">\n        <img onclick=\"changeSideTo('profile')\" class=\"icons\" src=\"./icons/profile.svg\">\n    </footer>`\n\n    changeSideTo('profile');\n}\n\ndocument.addEventListener('keyup', function (event) {\n    if (event.key == \"Enter\") {\n        preLog()\n    }\n\n})\n\n\n//********************************\n// Seitenwechsel\n//********************************\nfunction changeSideTo(side) {\n    switch (side) {\n        case 'ranking':\n            ranking();\n            break;\n        case 'statistic':\n            statistics();\n            break;\n        case 'points':\n            points();\n            break;\n        case 'rewards':\n            rewards();\n            break;\n        case 'profile':\n            profile();\n            break;\n        default:\n            break;\n    }\n}\n\n\n//********************************\n// Ranking Method(s) ----------------------------------------------------------------\n//********************************\nfunction ranking() {\n    document.getElementById('body').style.opacity = \"0\"\n    setTimeout(function(){ document.getElementById('body').style.opacity = \"1\" }, 100);\n\n    replaceStylesheet(\"style/styleRanking.css\");\n    document.getElementById(\"headerGeneral\").innerHTML = `<h2>Leaderboard</h2>`\t\n\n    document.getElementById(\"content\").innerHTML =\n    `<div id=\"upperRanks\">\n        <div id=\"rank2\">\n            <div class=\"class\">2BHITM<br><br>200</div>\n        </div>\n        <div id=\"rank1\">\n            <div class=\"class\">1BHITM<br><br>300</div>\n        </div>\n        <div id=\"rank3\">\n            <div class=\"class\">3BHITM<br><br>150</div>\n        </div>\n    </div>\n    <div class=\"lowerRanks\">\n        <div class=\"rank rank4\">4 · test · 100</div>\n        <div class=\"rank rank5\">5 · test · 100</div>\n        <div class=\"rank rank6\">6 · test · 100</div>\n        <div class=\"rank rank7\">7 · test · 100</div>\n        <div class=\"rank rank8\">8 · test · 100</div>\n        <div class=\"rank rank9\">9 · test · 100</div>\n        <div class=\"rank rank10\">10 · test · 100</div>\n        <div class=\"rank rank11\">11 · test · 100</div>\n        <div class=\"rank rank12\">12 · test · 100</div>\n        <div class=\"rank rank13\">13 · test · 100</div>\n    </div>\n    `;\n}\n\nfunction rankSystem() {\n}\n\n\n//********************************\n// Statistic Method(s) ----------------------------------------------------------------\n//********************************\nfunction statistics() {\n    document.getElementById('body').style.opacity = \"0\";\n    setTimeout(function(){ document.getElementById('body').style.opacity = \"1\"; }, 100);\n\n    replaceStylesheet(\"style/styleStatistics.css\");\n    document.getElementById(\"headerGeneral\").innerHTML = `<h2>Statistics</h2>`;\n    document.getElementById(\"content\").innerHTML = `\n    <div style=\"width:90%;max-width:600px;margin:auto;\">\n        <canvas id=\"activityDistribution\"></canvas>\n        <canvas id=\"activityTimeline\" style=\"margin-top:10px;\"></canvas>\n        <canvas id=\"userActivity\" style=\"margin-top:30px;\"></canvas>\n    </div>`;\n\n    // 2. Beliebteste Aktivität (Kreisdiagramm)\n    new Chart(document.getElementById('activityDistribution'), {\n        type: 'pie',\n        data: {\n            labels: ['Quiz gelöst', 'Fotos hochgeladen', 'Fotos bewertet'],\n            datasets: [{\n                data: [120, 80, 50],\n                backgroundColor: ['#10b310', '#e0ffe0', 'rgb(0, 105, 0)']\n            }]\n        },\n        options: {\n            responsive: true,\n            plugins: {\n                title: {\n                    display: true,\n                    text: 'Beliebteste Aktivitäten'\n                }\n            }\n        }\n    });\n\n    // 3. Teilnahmen im Zeitverlauf (Liniendiagramm)\n    new Chart(document.getElementById('activityTimeline'), {\n        type: 'line',\n        data: {\n            labels: ['Montag', 'Dienstag', 'Mittwoch', 'Donnerstag', 'Freitag'],\n            datasets: [\n                {\n                    label: 'Quiz',\n                    data: [12, 15, 13, 17, 20],\n                    borderColor: '#10b310',\n                    backgroundColor: 'rgba(16, 179, 16, 0.3)',\n                    tension: 0.3,\n                    fill: true\n                },\n                {\n                    label: 'Fotos hochgeladen',\n                    data: [7, 9, 5, 11, 14],\n                    borderColor: 'rgb(130, 255, 130)',\n                    backgroundColor: 'rgba(130, 255, 130, 0.3)',\n                    tension: 0.3,\n                    fill: true\n                },\n                {\n                    label: 'Fotos bewertet',\n                    data: [3, 4, 2, 6, 8],\n                    borderColor: 'rgb(0, 105, 0)',\n                    backgroundColor: 'rgba(0, 105, 0, 0.3)',\n                    tension: 0.3,\n                    fill: true\n                }\n            ]\n        },\n        options: {\n            responsive: true,\n            plugins: {\n                title: {\n                    display: true,\n                    text: 'Teilnahmen im Wochenverlauf'\n                }\n            },\n            scales: {\n                y: { beginAtZero: true }\n            }\n        }\n    });\n\n    // 4. Benutzeraktivität (Balkendiagramm)\n    new Chart(document.getElementById('userActivity'), {\n        type: 'bar',\n        data: {\n            labels: ['1BHITM', '2BHITM', '3BHITM', '4BHITM'],\n            datasets: [{\n                label: 'Durchschnittliche Aktionen pro Schüler',\n                data: [15, 9, 12, 7],\n                backgroundColor: ['#10b310', '#10b310', '#10b310', '#10b310']\n            }]\n        },\n        options: {\n            responsive: true,\n            plugins: {\n                title: {\n                    display: true,\n                    text: 'Benutzeraktivität der Klassen'\n                }\n            },\n            scales: {\n                y: { beginAtZero: true }\n            }\n        }\n    });\n}\n\n\nfunction statisticSystem() {\n}\n\n\n//********************************\n// Points Method(s) ----------------------------------------------------------------\n//********************************\n\n//Punkte Startseite\nfunction points() {\n    document.getElementById('body').style.opacity = \"0\"\n    setTimeout(function(){ document.getElementById('body').style.opacity = \"1\" }, 100);\n\n    replaceStylesheet(\"style/stylePoints.css\")\n    document.getElementById(\"headerGeneral\").innerHTML = `<img id=\"logo\" src=\"./Logo_BinWin.png\">`\n    document.getElementById(\"content\").innerHTML = `<div id=\"stylingBoxForPoints\">\n    <div><img id=\"pointIconP\" src=\"./icons/recycle.png\"></div>\n    <div><p id=\"numberOfPoints\">x1</p></div>\n    <div id=\"getPointsButton\" onclick=\"goToButtons()\">Get Points</div></div>`\n}\n\n\nfunction rewardSystem() {\n    fetch('./api/central.php?endpoint=getUser')\n        .then(response => response.json())\n        .then(data => {\n            if (data.code === 200) {                \n                let classUser = data.array[0].class;\n                console.log(classUser);\n\n                fetch('./api/central.php?endpoint=getClass')\n                    .then(response => response.json())\n                    .then(data => {\n                        if (data.code === 200) {                \n                            for (let i = 0; i < data.array.length; i++) {\n                                if (classUser == data.array[i].name) {\n                                    data.array[i].score += 1;\n                                }\n                            }\n                            profile();\n                            alert(\"1 point added to class\" + classUser);\n                        } else {\n                            console.log(\"Fehler beim Abrufen der Klassendaten\");\n                        }\n                    })\n                    .catch(error => {\n                        console.error(\"Error fetching user data:\", error);\n                        alert(\"Ein Fehler ist aufgetreten, bitte später erneut versuchen!\");\n                });\n\n            } else {\n                console.log(\"Fehler beim Abrufen der Benutzerdaten\");\n            }\n        })\n        .catch(error => {\n            console.error(\"Error fetching user data:\", error);\n            alert(\"Ein Fehler ist aufgetreten, bitte später erneut versuchen!\");\n    });\n}\n\n//Button anzeige für die Punkte\nfunction goToButtons() {\n    document.getElementById('body').style.opacity = \"0\"\n    setTimeout(function(){ document.getElementById('body').style.opacity = \"1\" }, 100);\n\n    replaceStylesheet(\"style/stylePointButtons.css\")\n    document.getElementById(\"content\").innerHTML = `<div id=\"stylingBoxForButtons\">\n    <div id=\"button1\" onclick=\"goToPhoto()\">Take a Photo</div>\n    <div id=\"button2\" onclick=\"goToQuiz()\">Take a Quiz</div>\n    <div id=\"button3\" onclick=\"goToRatePhoto()\">Rate Photos</div>    \n    <div id=\"button4\" onclick=\"goToExplanation()\"><img src=\"./icons/whiteInfo.svg\"></div>\n    </div>`\n}\n\n//Quiz\nlet quizCounter = 0;\n\nfunction goToQuiz() {\n    document.getElementById('body').style.opacity = \"0\"\n    setTimeout(function(){ document.getElementById('body').style.opacity = \"1\" }, 100);\n\n    replaceStylesheet(\"style/styleQuiz.css\")\n    document.getElementById(\"content\").innerHTML = `<div id=\"quizBox\"></div>`\n    getQuestions();\n}\nfunction getQuestions() {\n\n    if (quizCounter >= 2) {\n        rewardSystem();\n    }\n\n    fetch('./api/central.php?endpoint=quiz')\n    .then(response => response.json())\n    .then(data => {\n        if (data.code === 200) {\n            console.log(\"Quiz Loaded Successfully:\");\n            displayRandomQuestion(data.array);\n        } else {\n            console.error(\"Error loading quiz:\", data.code);\n        }\n    })\n    .catch(error => console.error(\"Fetch error:\", error));\n\n    function displayRandomQuestion(questions) {\n        const randomIndex = Math.floor(Math.random() * questions.length);\n        const q = questions[randomIndex];\n    \n        let questionHTML = `\n                <h3>${q.question}</h3>\n                <div class=\"options\">\n        `;\n    \n        q.options.forEach(option => {\n            questionHTML += `<button class=\"quiz-option\" onclick=\"checkAnswer(this, '${option}', '${q.answer}')\">${option}</button>`;\n        });\n    \n        questionHTML += `\n            </div>\n        `;\n    \n        document.getElementById(\"quizBox\").innerHTML = questionHTML;\n    }\n    \n}\nfunction checkAnswer(button, selected, correct) {\n    const buttons = document.querySelectorAll(\".quiz-option\");\n\n    if (selected === correct) {\n        button.classList.add(\"correct\");\n        quizCounter++;\n        setTimeout(function(){ getQuestions() }, 2000);\n\n    } else {\n        button.classList.add(\"wrong\");\n        quizCounter = 0;\n        buttons.forEach(btn => {\n            if (btn.innerText === correct) {\n                btn.classList.add(\"correct\");\n            }\n        });\n        setTimeout(function(){ goToButtons() }, 2000);\n    }\n\n    // Deaktiviere alle Buttons nach der Auswahl\n    buttons.forEach(btn => btn.disabled = true);\n}\n\n\n//Bewertung von Fotos\nfunction goToRatePhoto() {\n    document.getElementById('body').style.opacity = \"0\";\n    setTimeout(() => { document.getElementById('body').style.opacity = \"1\"; }, 100);\n\n    replaceStylesheet(\"style/styleRatePhotos.css\");\n\n    fetch('./api/central.php?endpoint=getClass')\n        .then(response => response.json())\n        .then((data) => {\n            // console.log(data.array);\n\n            if (data.code == 200 && data.array.length > 0) {\n                allPhotos = data.array;\n                showRandomPhoto();\n            } else {\n                document.getElementById(\"content\").innerHTML = `<p>No images available.</p>`;\n            }\n        })\n        .catch((error) => {\n            console.error(\"Error:\", error);\n            alert(\"An error occurred, please try again later!\");\n        });\n}\nfunction showRandomPhoto() {\n    if (allPhotos.length === 0) return;\n\n    // Wähle zufälligen Index, aber stelle sicher, dass es nicht das gleiche Bild wie vorher ist\n    let randomIndex;\n    do {\n        randomIndex = Math.floor(Math.random() * allPhotos.length);\n    } while (randomIndex === currentPhotoIndex);\n\n    currentPhotoIndex = randomIndex;\n    const photo = allPhotos[currentPhotoIndex];\n\n    document.getElementById(\"content\").innerHTML = `\n        <div id=\"photoBox\">\n            <div class=\"photo\">\n                <img src=\"${photo.source}\" alt=\"photo\">\n                <div onclick=\"activateRatePhotoGetPointsButton()\" class=\"rating\" data-photo-id=\"${photo.id}\">\n                    ${generateStars(photo.id)}\n                </div>\n                <button class=\"ratePhotoGetPointsInactive\">Get points</button>\n            </div>\n        </div>\n    `;\n\n    setupStarRating(); // Event-Listener für Sterne hinzufügen\n}\n\nfunction activateRatePhotoGetPointsButton() {\n    let button = document.querySelector(\".ratePhotoGetPointsInactive\");\n    if (button) {\n        button.classList = \"\"; // Leert die Klassenliste\n        button.classList.add(\"ratePhotoGetPoints\"); // Fügt die gewünschte Klasse hinzu\n        button.onclick = rewardSystem; \n    }\n}\n\nfunction generateStars(photoId) {\n    let starsHTML = \"\";\n    for (let i = 1; i <= 5; i++) {\n        starsHTML += `<span class=\"star\" data-rating=\"${i}\" data-photo-id=\"${photoId}\">&#9733;</span>`;\n    }\n    return starsHTML;\n}\nfunction setupStarRating() {\n    const stars = document.querySelectorAll(\".star\");\n\n    stars.forEach(star => {\n        star.addEventListener(\"click\", function() {\n            const rating = this.getAttribute(\"data-rating\");\n            const photoId = this.getAttribute(\"data-photo-id\");\n            highlightStars(photoId, rating);\n        });\n    });\n}\nfunction highlightStars(photoId, rating) {\n    const stars = document.querySelectorAll(`.rating[data-photo-id=\"${photoId}\"] .star`);\n\n    stars.forEach(star => {\n        const starRating = parseInt(star.getAttribute(\"data-rating\"));\n        if (starRating <= rating) {\n            star.classList.add(\"selected\");\n        } else {\n            star.classList.remove(\"selected\");\n        }\n    });\n}\n\n//Foto machen\nfunction goToPhoto() {\n    document.getElementById('body').style.opacity = \"0\"\n    setTimeout(function(){ document.getElementById('body').style.opacity = \"1\" }, 100);\n\n    replaceStylesheet(\"style/styleCamera.css\")\n    document.getElementById(\"content\").innerHTML = `<video id=\"video\" autoplay></video>\n    <button id=\"captureBtn\">Take Picture</button>\n    <canvas id=\"canvas\"></canvas>\n    <button id=\"saveBtn\" onclick=\"rewardSystem()\" style=\"display: none;\">Get points</button>`\n    const video = document.getElementById(\"video\");\n    const canvas = document.getElementById(\"canvas\");\n    const ctx = canvas.getContext(\"2d\");\n    const captureBtn = document.getElementById(\"captureBtn\");\n    const saveBtn = document.getElementById(\"saveBtn\");\n\n    // Start Camera\n    navigator.mediaDevices.getUserMedia({ video: true })\n        .then(stream => {\n            video.srcObject = stream;\n        })\n        .catch(err => {\n            console.error(\"Error accessing camera:\", err);\n        });\n\n    // Capture Image\n    captureBtn.addEventListener(\"click\", () => {\n        canvas.width = video.videoWidth;\n        canvas.height = video.videoHeight;\n        ctx.drawImage(video, 0, 0, canvas.width, canvas.height);\n        \n        // Canvas sichtbar machen\n        canvas.style.display = \"block\";\n        \n        // Save-Button anzeigen\n        saveBtn.style.display = \"block\";\n    });\n    \n\n    // Save Image\n    saveBtn.addEventListener(\"click\", () => {\n        const image = canvas.toDataURL(\"image/png\");\n        const link = document.createElement(\"a\");\n        link.href = image;\n        currClass = savePhoto();\n        // link.download = \"image.png\";\n        // link.click();\n    });\n}\n// function savePhoto() {    \n//     fetch(`./api/getUser.php`)\n//         .then((response) => response.json())\n//         .then((data) => {\n\n//             console.log(data);\n\n//             if (data.code == 200) {\n//                 return data.array[0].class;\n//             }\n\n//             else {\n//                 console.log(\"Etwas ist schief gelaufen\");\n\n//             }\n\n//         })\n//         .catch((error) => {\n//             console.error(\"Error:\", error);\n//             alert(\"An error occurred please try again later!\");\n//             return null;\n//         });\n// }\n\n// // Beispiel:\n// const img = document.getElementById('myImage'); // <img id=\"myImage\" src=\"...\">\n// const base64 = imageToBase64(img);\nfunction savePhoto() {\n    fetch('./api/central.php?endpoint=getUser')\n        .then((response) => response.json())\n        .then((data) => {\n            if (data.code == 200) {\n                const className = data.array[0].class;\n\n                // Jetzt class.json laden\n                fetch('./api/central.php?endpoint=getClass')\n                    .then((res) => res.json())\n                    .then((classData) => {\n                        let classObj = null;\n\n                        for (let i = 0; i < classData.array.length; i++) {\n                            if (classData.array[i].name === className) {\n                                classObj = classData.array[i];\n                                break;\n                            }\n                        }\n\n                        if (classObj == null) {\n                            console.error(\"Klasse nicht gefunden\");\n                            return;\n                        }\n\n                        let canvas = document.getElementById('canvas');\n                        console.log(canvas);\n                        \n                        \n                        canvas.toBlob(function(blob) {\n                            const imgIndex = classObj.imgArray.length;\n                            const imgName = `${className}_image_${imgIndex}`;\n                            const fileName = `${imgName}.png`;\n\n                            const formData = new FormData();\n                            formData.append('imageFile', blob, fileName);\n                            formData.append('imageName', fileName);\n\n                            // Speichern des Bildes im Ordner data/img\n                            fetch('./api/central.php?endpoint=saveImage', {\n                                method: 'POST',\n                                body: formData\n                            })\n                            .then((res) => res.json())\n                            .then((saveResult) => {\n                                if (saveResult.success) {\n                                    const newImage = {\n                                        imageData: null, // base64 nicht mehr nötig\n                                        url: `data/img/${fileName}`\n                                    };\n\n                                    classObj.imgArray.push(newImage);\n\n                                    // Jetzt schicken wir das aktualisierte Objekt an den Server\n                                    fetch('./api/central.php?endpoint=updateClass', {\n                                        method: 'POST',\n                                        headers: {\n                                            'Content-Type': 'application/json'\n                                        },\n                                        body: JSON.stringify(classData)\n                                    })\n                                    .then((res) => res.json())\n                                    .then((result) => {\n                                        if (result.success) {\n                                            console.log(\"Bildinformationen erfolgreich gespeichert:\", newImage);\n                                        } else {\n                                            console.error(\"Speichern der Bildinformationen fehlgeschlagen\");\n                                        }\n                                    })\n                                    .catch((err) => {\n                                        console.error(\"Fehler beim Speichern der Bildinformationen:\", err);\n                                    });\n                                } else {\n                                    console.error(\"Speichern des Bildes im Ordner fehlgeschlagen\");\n                                }\n                            })\n                            .catch((err) => {\n                                console.error(\"Fehler beim Speichern des Bildes:\", err);\n                            });\n                        }, 'image/png');\n                    });\n            } else {\n                console.log(\"Etwas ist schief gelaufen\");\n            }\n        })\n        .catch((error) => {\n            console.error(\"Error:\", error);\n            alert(\"Ein Fehler ist aufgetreten. Bitte später erneut versuchen.\");\n        });\n}\n\n\n\n// Erklärung\nfunction goToExplanation() {\n    replaceStylesheet(\"style/styleFAQ.css\")\n\n    document.getElementById(\"content\").innerHTML = `\n        <div class=\"faq-container\">\n            <div id=\"header\"><h1>How do I get Points?</h1></div>\n\n            <div class=\"faq-item\">\n                <div class=\"faq-question\" onclick=\"toggleFaq(this)\">\n                    <p>What is BinWin?</p>\n                    <span>+</span>\n                </div>\n                <div class=\"faq-answer\">\n                    <p>\n                        BinWin is a fun, easy-to-use project designed to encourage students to dispose of waste properly \n                        and keep our school clean and organized. \n                        It’s all about making small, everyday actions count – and rewarding you for doing the right thing!\n                        <br><br>\n                        Instead of just throwing your trash in the bin, \n                        BinWin gives you a way to track your eco-friendly actions. \n                        Whether it’s taking a picture of your waste, rating other students’ actions, \n                        or answering short quizzes about recycling, you get points every time you engage with the app.\n                        <br><br>    \n                        But it’s not just about points – \n                        it’s about creating a cleaner, greener school, \n                        showing respect for the environment, \n                        and making the school a better place for everyone.\n                    </p>\n                </div>\n            </div>\n\n            <div class=\"faq-item\">\n                <div class=\"faq-question\" onclick=\"toggleFaq(this)\">\n                    <p>Why BinWin?</p>\n                    <span>+</span>\n                </div>\n                <div class=\"faq-answer\">\n                    <p>\n                        Because your class is in the race.\n                        <br><br>\n                        Because the top scorers will stand out.\n                        <br><br>\n                        Because you’ve got the skills to lead by example.\n                        <br><br>\n                        It’s about mindset. Tech meets responsibility. And yeah – some bragging rights too.\n                        <br><br>\n                        This isn’t just about trash.\n                        <br><br>\n                        It’s about doing smart things, making a difference, and having some fun while you’re at it.\n                    </p>\n                </div>\n            </div>\n\n            <div class=\"faq-item\">\n                <div class=\"faq-question\" onclick=\"toggleFaq(this)\">\n                    <p>Why BinWin is a Game-Changer</p>\n                    <span>+</span>\n                </div>\n                <div class=\"faq-answer\">\n                    <p>\n                    It’s Easy, Fun, and Rewarding!\n                    <br><br>\n                    No need for complicated rules. \n                    Just take a pic, rate others, and answer quizzes. \n                    Simple, right? And the best part is, you get rewarded for doing your part. \n                    It’s a win-win situation!\n                    <br><br>\n                    It’s All About Teamwork\n                    <br><br>\n                    By using BinWin, you’re not only helping yourself – \n                    you’re contributing to a cleaner, more organized school. \n                    Everyone is in it together, working toward a common goal. \n                    The more you participate, the more you help your school, the environment, and yourself.\n                    <br><br>\n                    It’s a Step Toward a Greener Future\n                    <br><br>\n                    Every small action you take has a bigger impact. \n                    By practicing waste separation at school, you’ll be more likely to carry that habit into your daily life. \n                    Together, we can make the world a cleaner place, starting right here.\n                    </p>\n                </div>\n            </div>\n\n            <div class=\"faq-item\">\n                <div class=\"faq-question\" onclick=\"toggleFaq(this)\">\n                    <p>Take a Photo</p>\n                    <span>+</span>\n                </div>\n                <div class=\"faq-answer\">\n                    <p>\n                        Before you throw anything away, take a quick photo. \n                        This action alone earns you 1 point! \n                        It’s a small effort that makes a big difference in keeping track of your waste.\n                    </p>\n                </div>\n            </div>\n\n            <div class=\"faq-item\">\n                <div class=\"faq-question\" onclick=\"toggleFaq(this)\">\n                    <p>Take a Quiz</p>\n                    <span>+</span>\n                </div>\n                <div class=\"faq-answer\">\n                    <p>\n                        Once you’ve uploaded your photo, it’s time to rate others’ photos. \n                        This encourages everyone to engage with each other and gives you 1 point each time you rate a photo. \n                        It’s a simple way to help the community and learn more about how others handle waste.\n                    </p>\n                </div>\n            </div>\n\n            <div class=\"faq-item\">\n                <div class=\"faq-question\" onclick=\"toggleFaq(this)\">\n                    <p>Rate Photos</p>\n                    <span>+</span>\n                </div>\n                <div class=\"faq-answer\">\n                    <p>\n                        You can also earn points by answering a few quick questions in a fun quiz. \n                        Just 3 correct answers = 1 point. \n                        It’s an easy way to boost your score while learning more about environmental issues, recycling, and sustainability.\n                    </p>\n                </div>\n            </div>\n        </div>\n    `;\n}\n\nfunction toggleFaq(element) {\n    const answer = element.nextElementSibling;\n    const symbol = element.querySelector(\"span\");\n    answer.classList.toggle(\"show\");\n    symbol.textContent = answer.classList.contains(\"show\") ? \"−\" : \"+\";\n}\n\n//********************************\n// Rewards Method(s) ----------------------------------------------------------------\n//********************************\nfunction rewards() {\n    document.getElementById('body').style.opacity = \"0\";\n    setTimeout(function(){ document.getElementById('body').style.opacity = \"1\"; }, 100);\n\n    replaceStylesheet(\"style/styleRewards.css\");\n\n    document.getElementById(\"headerGeneral\").innerHTML = `<h2 class=\"milestones-title\">Achievements \uD83C\uDF1F</h2>`;\n    document.getElementById(\"content\").innerHTML = `\n        <div class=\"milestones-container\">\n            <!-- Punkte sammeln -->\n            <div class=\"milestone unlocked\">\n                <div class=\"milestone-badge\" style=\"background-color:#FFC107;\">1</div>\n                <span>\uD83C\uDFC5 Rookie Recycler</span>\n            </div>\n            <div class=\"milestone locked\">\n                <div class=\"milestone-badge\" style=\"background-color:#FF5722;\">10</div>\n                <span>\uD83E\uDDB8 Eco Hero</span>\n            </div>\n            <div class=\"milestone locked\">\n                <div class=\"milestone-badge\" style=\"background-color:#4CAF50;\">25</div>\n                <span>\uD83C\uDF0E Planet Protector</span>\n            </div>\n\n            <!-- Fotos hochladen -->\n            <div class=\"milestone unlocked\">\n                <div class=\"milestone-badge\" style=\"background-color:#9C27B0;\">\uD83D\uDCF8</div>\n                <span>First Shot</span>\n            </div>\n            <div class=\"milestone locked\">\n                <div class=\"milestone-badge\" style=\"background-color:#3F51B5;\">\uD83D\uDCF7</div>\n                <span>Paparazzi (10 Pictures)</span>\n            </div>\n\n            <!-- Fotos bewerten -->\n            <div class=\"milestone unlocked\">\n                <div class=\"milestone-badge\" style=\"background-color:#00BCD4;\">⭐\uFE0F</div>\n                <span>First Judge</span>\n            </div>\n            <div class=\"milestone locked\">\n                <div class=\"milestone-badge\" style=\"background-color:#009688;\">\uD83C\uDF1F</div>\n                <span>Top Reviewer (20 Reviews)</span>\n            </div>\n\n            <!-- Quiz -->\n            <div class=\"milestone unlocked\">\n                <div class=\"milestone-badge\" style=\"background-color:#FF9800;\">\uD83E\uDDE0</div>\n                <span>First Quiz</span>\n            </div>\n            <div class=\"milestone locked\">\n                <div class=\"milestone-badge\" style=\"background-color:#8BC34A;\">\uD83C\uDF93</div>\n                <span>Quizmaster (10 perfect Quizzes)</span>\n            </div>\n        </div>`;\n}\n\n\n\n//********************************\n// Profile Method(s) ----------------------------------------------------------------\n//********************************\nfunction profile() {\n    document.getElementById('body').style.opacity = \"0\"\n    setTimeout(function(){ document.getElementById('body').style.opacity = \"1\" }, 100);\n\n    replaceStylesheet(\"style/styleProfil.css\");\n    fetch('./api/central.php?endpoint=getUser')\n        .then((response) => response.json())\n        .then((data) => {\n            if (data.code == 200) {\n                document.getElementById(\"headerGeneral\").innerHTML = `<h2>Profile</h2>`\t\n                document.getElementById(\"content\").innerHTML = `\n\n                <div id=\"profilBox\">\n                    <div id=\"profilIcon\">\n                    <img src=\"./icons/profile.svg\">\n                    </div>\n                    <div id=\"profiltxt\">\n                        <div id=\"profil-txt-n\" class=\"profiltxtC\"><strong>Name: </strong>${data.array[0].name}</div>\n                        <div id=\"profil-txt-c\" class=\"profiltxtC\"><strong>Class: </strong>${data.array[0].class}</div>\n                    </div>\n                </div>\n                <hr>\n                <div id=\"overview\">\n                        <div class=\"overviewBox\">\n                            <div><img onclick=\"changeSideTo('ranking')\" class=\"iconsProfil\" src=\"./icons/ranking.svg\"></div>\n                            <div>(#1)</div>\n                        </div>\n                        <div class=\"overviewBox\">\n                            <div><img onclick=\"changeSideTo('points')\" class=\"icons\" src=\"./icons/recycle.svg\"></div>\n                            <div>(x10)</div>\n                        </div>\n                        <div class=\"overviewBox\">\n                            <div><img onclick=\"changeSideTo('rewards')\" class=\"iconsProfil\" src=\"./icons/trophy.svg\"></div>\n                            <div>(x3)</div>\n                        </div>\n                    </div>\n                `\n            }\n\n            else {\n                console.log(\"Something went wrong\");\n\n            }\n\n        })\n        .catch((error) => {\n            console.error(\"Error:\", error);\n            alert(\"An error occurred please try again later!\");\n        });\n\n\n}\n\nfunction rankSystem() {\n}\nfunction statisticSystem() {\n}\n\nfunction profileSystem() {\n}\n\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/public/script/script.js b/public/script/script.js
--- a/public/script/script.js	(revision 08d640ddff3490b0f69b4366ad7b008267376a01)
+++ b/public/script/script.js	(date 1749106694060)
@@ -1031,8 +1031,6 @@
             console.error("Error:", error);
             alert("An error occurred please try again later!");
         });
-
-
 }
 
 function rankSystem() {
